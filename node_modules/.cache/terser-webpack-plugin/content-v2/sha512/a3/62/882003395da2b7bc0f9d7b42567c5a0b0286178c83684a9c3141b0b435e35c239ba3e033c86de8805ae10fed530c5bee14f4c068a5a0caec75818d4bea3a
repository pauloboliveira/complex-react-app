{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{208:function(e,t,a){\"use strict\";a.r(t);var s=a(0),n=a.n(s),l=a(6),c=a(4),r=a(3),o=a(2),i=a.n(o),m=a(15),u=a(102),d=a.n(u),p=a(19),f=a(18),E=a(8),h=a(13);t.default=Object(c.g)((function(e){const{id:t}=Object(c.f)(),[a,o]=Object(s.useState)(!0),[u,b]=Object(s.useState)(),w=Object(s.useContext)(E.a),y=Object(s.useContext)(h.a);if(Object(s.useEffect)(()=>{const e=i.a.CancelToken.source();return async function(){try{const a=await i.a.get(\"/post/\"+t,{cancelToken:e.token});b(a.data),o(!1)}catch(e){console.log(\"There was a problem or the request was cancelled\")}}(),()=>{e.cancel()}},[t]),!a&&!u)return n.a.createElement(f.a,null);if(a)return n.a.createElement(l.a,{title:\"...\"},\" \",n.a.createElement(m.a,null),\" \");const g=new Date(u.createdDate),N=`${g.getMonth()+1}/${g.getDay()}/${g.getFullYear()}`;return n.a.createElement(l.a,{title:u.title},n.a.createElement(\"div\",{className:\"d-flex justify-content-between\"},n.a.createElement(\"h2\",null,u.title),!!w.loggedIn&&w.user.username==u.author.username&&n.a.createElement(\"span\",{className:\"pt-2\"},n.a.createElement(r.b,{to:`/post/${u._id}/edit`,\"data-tip\":\"Edit\",\"data-for\":\"edit\",className:\"text-primary mr-2\"},n.a.createElement(\"i\",{className:\"fas fa-edit\"})),n.a.createElement(p.a,{id:\"edit\",className:\"custom-tooltip\"}),\" \",n.a.createElement(\"a\",{onClick:async function(){if(window.confirm(\"Do you really want to delete this post?\"))try{\"Success\"==(await i.a.delete(\"/post/\"+t,{data:{token:w.user.token}})).data&&(y({type:\"flashMessage\",value:\"Post was successfully deleted.\"}),e.history.push(\"/profile/\"+w.user.username))}catch(e){console.log(e)}},className:\"delete-post-button text-danger\",\"data-tip\":\"Delete\",\"data-for\":\"delete\"},n.a.createElement(\"i\",{className:\"fas fa-trash\"})),n.a.createElement(p.a,{id:\"delete\",className:\"custom-tooltip\"}))),n.a.createElement(\"p\",{className:\"text-muted small mb-4\"},n.a.createElement(r.b,{to:\"/profile/\"+u.author.username},n.a.createElement(\"img\",{className:\"avatar-tiny\",src:u.author.avatar})),\"Posted by \",n.a.createElement(r.b,{to:\"/profile/\"+u.author.username},u.author.username),\" on \",N),n.a.createElement(\"div\",{className:\"body-content\"},n.a.createElement(d.a,{source:u.body,allowedTypes:[\"paragraph\",\"strong\",\"list\",\"listItem\",\"emphasis\",\"heading\",\"text\"]})))}))}}]);","extractedComments":[]}